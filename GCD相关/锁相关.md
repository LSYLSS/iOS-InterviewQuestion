### 锁相关 

#### synchronized
一般在创建单例对象的时候使用,但是不是绝对安全的。

#### atomic

 ![](./img/Snip20190306_34.png)
 
#### OSSpinLock

 ![](./img/Snip20190306_35.png)
 
 
#### NSLock
 一般用来解决细粒度的线程同步问题, 来保证各个线程进入互斥进入自己的临界区。
 
#### NSRecursiveLock 
 加锁、解锁一一对应,可以解决锁重入。
 
 
#### dispatch_semaphore_t
![](./img/Snip20190306_36.png)


##### dispatch_semaphore_create

![](./img/Snip20190306_37.png)

实例化一个semaphore的结构体, 其中维护了两个值,一个是信号量的值,一个是对象的线程的列表或者说一个队列。

##### dispatch_semaphore_wait

![](./img/Snip20190306_38.png)

##### dispatch_semaphore_signal

![](./img/Snip20190306_39.png)